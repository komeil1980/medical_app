{% extends 'base.html' %}
{% block title %}پروفایل کاربر{% endblock %}
{% block content %}
<div class="card mx-auto mt-4" style="max-width: 500px;">
    <div class="card-body">
        <h4 class="card-title mb-3 text-center">پروفایل کاربر</h4>
        <form method="post">
            {% if user_type == 'user' %}
                <div class="mb-3">
                    <label class="form-label">نام</label>
                    <input type="text" class="form-control" name="first_name" value="{{ user.first_name or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">نام خانوادگی</label>
                    <input type="text" class="form-control" name="last_name" value="{{ user.last_name or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">ایمیل</label>
                    <input type="email" class="form-control" name="email" value="{{ user.email or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">شماره موبایل</label>
                    <input type="text" class="form-control" name="phone" value="{{ user.phone or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">کد ملی</label>
                    <input type="text" class="form-control" name="national_id" value="{{ user.national_id or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">جنسیت</label>
                    <select class="form-select" name="gender">
                        <option value="" {% if not user.gender %}selected{% endif %}>انتخاب کنید</option>
                        <option value="male" {% if user.gender == 'male' %}selected{% endif %}>مرد</option>
                        <option value="female" {% if user.gender == 'female' %}selected{% endif %}>زن</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label">تاریخ ثبت‌نام</label>
                    <input type="text" class="form-control" value="{{ user.registered_at.strftime('%Y-%m-%d') if user.registered_at else '-' }}" readonly>
                </div>
            {% else %}
                <div class="mb-3">
                    <label class="form-label">نام کاربری</label>
                    <input type="text" class="form-control" name="username" value="{{ user.username or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">نام</label>
                    <input type="text" class="form-control" name="name" value="{{ user.name or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">تخصص</label>
                    <input type="text" class="form-control" name="specialty" value="{{ user.specialty or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">ایمیل</label>
                    <input type="email" class="form-control" name="email" value="{{ user.email or '' }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">شماره موبایل</label>
                    <input type="text" class="form-control" name="phone" value="{{ user.phone or '' }}">
                </div>
            {% endif %}
            <button type="submit" class="btn btn-success w-100">ذخیره تغییرات</button>
        </form>
        <a href="{{ url_for('profile.change_password') }}" class="btn btn-outline-warning w-100 mt-3">تغییر رمز عبور</a>
        <a href="/dashboard" class="btn btn-outline-primary w-100 mt-2">بازگشت به داشبورد</a>
    </div>
</div>
{% endblock %}
